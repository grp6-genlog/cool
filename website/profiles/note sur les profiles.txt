Pour utiliser le mode d'autentification de django (qui comme d'hab est cool),
il a fallut changer un peu le modele de la db

Table User qui contient:
-username
-password
-email
-first_name (optional)
-last_name (optional)
-autres paramètres de droits (cf partie admin)

Table UserProfile qui contient
-user : une foreignkey vers User
-number_of_seats
-date_of_birth
-smoker : par defaut faux
-communities (optional)
-money_per_km
-gender : 'M' ou 'F'
-bank_account_number
-car_id (optional)
-phone_number
-car_description (optional)
-smartphone_id (optional)


Pour la création :
>>> from django.contrib.auth.models import User
>>> from website.profiles.models import UserProfile
>>> new = User.objects.create_user('my_username', 'my@email.net', 'my_password') # chiffre le mot de passe au passage
>>> new.first_name = 'james'
>>> new.last_name = 'bond'
>>> profile = UserProfile(user=new, number_of_seats=5,...)
>>> profile.car_id = 'ABC-123'
>>> ...
>>> new.save()
>>> profile.save()

Pour récupérer les info
>>> me = UserProfile.objects.get(phone_number__contains='001')
>>> me
<UserProfile: mart's profile>
>>> me.user
<User: mart>
>>> me.user.password
u'sha1$4dbea$b1608d7fdd5660da3fbc0ad301f9c731b1db8881'
>>> me.smoker
False
